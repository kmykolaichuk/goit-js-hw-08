{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,QAASH,SAASC,cAAc,6BAE5BG,EAAmB,sBAEzBN,EAAKC,KAAKM,iBACR,SACA,EAAAT,EAAAU,WAAS,SAAAC,GACP,IAAMC,EAAW,CACfN,MAAOJ,EAAKI,MAAMO,MAClBN,QAASL,EAAKK,QAAQM,OAExBC,aAAaC,QAAQP,EAAkBQ,KAAKC,UAAUL,MACrD,MAGL,IASMM,EATO,SAAAC,GACX,IACE,IAAMC,EAAkBN,aAAaO,QAAQF,GAC7C,OAA2B,OAApBC,OAA2BE,EAAYN,KAAKO,MAAMH,GACzD,MAAOI,GACcA,EAAMjB,SAIPkB,CAAKjB,GACzBU,IACFhB,EAAKI,MAAMO,MAAQK,EAAgBZ,MACnCJ,EAAKK,QAAQM,MAAQK,EAAgBX,SAGvCL,EAAKC,KAAKM,iBAAiB,UAAU,SAAAE,GACnCA,EAAIe,iBACJC,QAAQC,IAAI,CAAEtB,MAAOJ,EAAKI,MAAMO,MAAON,QAASL,EAAKK,QAAQM,QAC7DX,EAAKC,KAAK0B,QACVf,aAAagB,WAAWtB,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('input[name=\"email\"]'),\n  message: document.querySelector('textarea[name=\"message\"]'),\n};\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nrefs.form.addEventListener(\n  'input',\n  throttle(evt => {\n    const formData = {\n      email: refs.email.value,\n      message: refs.message.value,\n    };\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n  }, 500)\n);\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    'Get state error: ', error.message;\n  }\n};\n\nconst dataFromStorage = load(LOCALSTORAGE_KEY);\nif (dataFromStorage) {\n  refs.email.value = dataFromStorage.email;\n  refs.message.value = dataFromStorage.message;\n}\n\nrefs.form.addEventListener('submit', evt => {\n  evt.preventDefault();\n  console.log({ email: refs.email.value, message: refs.message.value });\n  refs.form.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","email","message","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","throttle","evt","formData","value","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$dataFromStorage","key","serializedState","getItem","undefined","parse","error","$b00c40859be242c5$var$load","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.174b9c46.js.map"}