{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,QAASH,SAASC,cAAc,6BAIlCH,EAAKC,KAAKK,iBACR,SACA,EAAAR,EAAAS,WAASC,IACP,MAAMC,EAAW,CACfL,MAAOJ,EAAKI,MAAMM,MAClBL,QAASL,EAAKK,QAAQK,OAExBC,aAAaC,QATQ,sBASkBC,KAAKC,UAAUL,MACrD,MAGL,MASMM,EATO,CAAAC,IACX,IACE,MAAMC,EAAkBN,aAAaO,QAAQF,GAC7C,OAA2B,OAApBC,OAA2BE,EAAYN,KAAKO,MAAMH,GACzD,MAAOI,GACcA,EAAMhB,UAIPiB,CAtBC,uBAuBrBP,IACFf,EAAKI,MAAMM,MAAQK,EAAgBX,MACnCJ,EAAKK,QAAQK,MAAQK,EAAgBV,SAGvCL,EAAKC,KAAKK,iBAAiB,UAAUE,IACnCA,EAAIe,iBACJC,QAAQC,IAAI,CAAErB,MAAOJ,EAAKI,MAAMM,MAAOL,QAASL,EAAKK,QAAQK,QAC7DV,EAAKC,KAAKyB,QACVf,aAAagB,WAhCU","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  email: document.querySelector('input[name=\"email\"]'),\n  message: document.querySelector('textarea[name=\"message\"]'),\n};\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\n\nrefs.form.addEventListener(\n  'input',\n  throttle(evt => {\n    const formData = {\n      email: refs.email.value,\n      message: refs.message.value,\n    };\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n  }, 500)\n);\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    'Get state error: ', error.message;\n  }\n};\n\nconst dataFromStorage = load(LOCALSTORAGE_KEY);\nif (dataFromStorage) {\n  refs.email.value = dataFromStorage.email;\n  refs.message.value = dataFromStorage.message;\n}\n\nrefs.form.addEventListener('submit', evt => {\n  evt.preventDefault();\n  console.log({ email: refs.email.value, message: refs.message.value });\n  refs.form.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","addEventListener","throttle","evt","formData","value","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$dataFromStorage","key","serializedState","getItem","undefined","parse","error","$945622fd0f572e60$var$load","preventDefault","console","log","reset","removeItem"],"version":3,"file":"03-feedback.f21e49a3.js.map"}